name: workflow-test
on:
  workflow_dispatch:
jobs:
  workflow-test:
    name: Run workflow test
    runs-on: ubuntu.latest
  steps:
    - name: Set up JDK 11
      uses: actions/setup-java@v3
      with: 
        java.version: '11'
        distribution: 'adopt'
    - name: Setup jq environment
      uses: urgn/setup-jq-action@v3.0.2
    - name: Validate jq version
      run: |
        jq --version
    - name: Validate mvn version
      run: |
        mvn --version
    - name: Test jq feature
      id: user
      run: |
        USER="$('{ "user":"stedolan", "title": "JQ Primer"}' | jq '.user')"
        echo $USER
        echo "::set-output name=user-output::$USER"
    - name: Test if statement
      env:
        USER_OUTPUT: ${{ steps.user.outputs.user-output }}
      run: |
        if [[ $USER_OUTPUT == '"stedolan"'  ]]
        then
        echo $USER_OUTPUT
        fi